<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GPA calculator</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    <style>
        table,
        tr,
        th,
        td {
            border: 0.1em solid black;
            border-collapse: collapse;
            text-align: center;
            padding: 0.3em;
        }

        td,
        th {
            height: 2em;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: larger;
        }

        input,
        select {
            border-radius: 1em;
            height: 1.9em;
            font-size: large;
        }
    </style>

    <script>
        let h1 = document.createElement('H1');
        courses = 1
        function add() {
            if (courses < 8) {
                let table = document.getElementById('table')
                let row = table.insertRow()
                let cell = row.insertCell().innerHTML = '<td><input class="input is-rounded col1" type="text" placeholder="Enter Course name"></td>'
                cell = row.insertCell().innerHTML = '<td><input class="input is-rounded col2" type="number" min="0" placeholder="Enter hours"></td>'
                cell = row.insertCell().innerHTML = `
            <select class="select is-rounded col3">
                            <option value="4">A+</option>
                            <option value="3.75">A</option>
                            <option value="3.5">B+</option>
                            <option value="3">B</option>
                            <option value="2.5">C+</option>
                            <option value="2">C</option>
                            <option value="1.5">D+</option>
                            <option value="1">D</option>
                            <option value="0">F</option>
                        </select>
            `
                courses++
            }
            else {
                alert('More than 8 courses?? who are you?')
            }
        }
        function calc() {
            let c = document.getElementsByClassName('col1')
            let h = document.getElementsByClassName('col2')
            let p = document.getElementsByClassName('col3')
            const reducer = (accumulator, curr) => accumulator + curr;
            h_list = []
            p_list = []
            c_list = []
            for (let index = 0; index < h.length; index++) {
                let element = h[index];
                h_list.push(Number(element.value))
                element = p[index]
                p_list.push(Number(element.value))
                element = c[index]
                c_list.push(Number(element.value))
            }
            let h_sum = h_list.reduce(reducer)
            let QP = 0
            for (let index = 0; index < h_list.length; index++) {
                QP += h_list[index] * p_list[index]
            }

            myDiv = document.getElementById('myDiv')
            h1.innerHTML = `Your GPA = ${(QP/h_sum).toFixed(2)}`;
            h1.style = 'margin-top: 1em; text-align: center; font-weight: 400; font-size: x-large;'
            myDiv.appendChild(h1)



        }
    </script>
</head>

<body>
    <div style="display:flex ; justify-content:center ; align-items:center ; height: 99vh">
        <div id="myDiv" style="align-items:center ; background-color: gainsboro  ; padding: 1% 15%; height: 100%;">
            <h1 style="color:darkgreen; text-align: center; font-weight: 700; font-size: xx-large;">Calculate your GPA!</h1>
            <table id="table" style="border:20px ; width: 100%; margin-bottom: 1em;">
                <tr>
                    <th>Course</th>
                    <th>Credits</th>
                    <th>Grade</th>
                </tr>
                <tr>
                    <td><input class="input is-rounded col1" type="text" placeholder="Enter Course name"></td>
                    <td><input class="input is-rounded col2" type="number" min="0" placeholder="Enter hours"></td>
                    <td>
                        <select class="select is-rounded col3">
                            <option value="4">A+</option>
                            <option value="3.75">A</option>
                            <option value="3.5">B+</option>
                            <option value="3">B</option>
                            <option value="2.5">C+</option>
                            <option value="2">C</option>
                            <option value="1.5">D+</option>
                            <option value="1">D</option>
                            <option value="0">F</option>
                        </select>
                    </td>
                </tr>
            </table>
            <div style="text-align: center ;">
                <button class="button is-info is-medium" style="margin: 0 3rem;" onclick="add()">Another Course?</button>
                <button class="button is-warning is-medium" style="margin: 0 3rem;" onclick="calc()">Calculate</button>
                <button class="button is-danger is-medium" style="margin: 0 3rem;" onclick="window.location.reload();">Refresh?</button>
            </div>

        </div>
    </div>



</body>

</html>